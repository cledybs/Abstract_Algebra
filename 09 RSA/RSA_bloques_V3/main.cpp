#include <iostream>
#include "rsa_bloques.h"
using namespace std;

int main(){
    string mensaje;
    //mensaje = "14528965768692212464514517406723554203544686364758305235266123509647840842543632870195843224307110712887566167217735721293764990249356182694595208800957367290357809942796861500213075730121477225636405496834034844096297127429341217264121741213069265698663062528372832216383117837739178979208004980415119077390942830357740105224496789111067270228068183275437127651859857477456526942913633235451610133075394762729005214778401980648948372935980358009508177308322145144377253811064743693768403900646310489233327482032627117244044696108851761899037904102345056775527199114845929834668146519946525313270214149446442540412317070936624171655011189394879403523801231218223482587101513466694032406303309607939251127752204920675347006194355594793863605724942364286640623232828467827410537809061241482237998774841431529145970189680189473889571120823800679986148646093329150063181778878488063627311577633389392067753819721963425197819048636777462664911585620127339826480806974098373486345975644987012890938170892028621662971532215556110089884809242997973522060182461835801476690690776205566892949454835626317337827042470031359711810548965527760906223729577277851901891899335446228945825702559268603011916532852881980118508386978792211368895550830301415013048282277214083861868597846168970616524405052866863014453991171315690635556556626359015023571493843296941242013400367191897465108152768351284466670337170993552517823508346433695898361795525053377704370790322234676954409134331407804602042331745549605046573810787575525689976464602006719095078426404336617368570344751037579459563613848628096266151091211248480040664818497148638566766366131403640213605122326451485392978146863925918756694434332287719579105277989308973544562664043781121192974300237236792568764062766743185077192163953636417241763212506659322914920160079064283956395954369332586368670962659979780308356177531673687861781069817326960944703671738182828851338252219311323341691874871012995721762431709910231618740198975013839342181384136487198127134996217108227338815187072215235544223749671290709626227854137469545717899049350140902534570970328494740943287595764407091150672154925154520175075674913490473627571528274085211873816361642069378423482165785436416997050082893468520512894822773391064002107734219840055640279188400490595600226620959954231343740696568138083419419887530536406824042986487241014966823346542521081900052542933481859814080263822122324959646709446747836713762595672920480541625480764041548685979";
    mensaje = "333717617045664960377338562166931112517624474756704847831376257281804096609726490562715657957629037662314719922766359195533133871474550907499868883256122544677933015837016075595727846173474300645808475724241631062540450329982954995838996071107894346536024594688067323034725077797767567156963244140828061989470580735518835033398117659769215328136643608327572203710984078280910699349274651307194456133321303406162169622864784346195116384107837374204452478447944767073832755845694176426321632629324963280311815790172253340837847787864032791472396370025408758229132150887674795077257515950936387413756671889720454943326101723143516116026728358868374383007075533190857992437137001577674421017371723099858006170021628100275254013092625607104239880982912825035272138257776206619641540987596775371910047075158701026139775389850362403275734513787751427826951488704769442158103908757853665660492087868739412761651111280208264144934755271211259425384532283827354441155788775277667368474136582534464608833713091531322356656218559738030238517391747036185322523879629598014032321643089865123683412675423742472979369291132512062460560477464578044804760611932826002543044279343409293158372772600772824773654979501702938371786486753613608292211464761";
    //mensaje = "A display is made up of millions of pixels. The quality of a display commonly refers to the number of pixels for example, a 4K display is made up of 3840 x2160 or 4096x2160 pixels. A pixel is made up of three subpixels a red, blue and green  commonly called RGB. When the subpixels in a pixel change color combinations, a different color can be produced. With all the pixels on a display working together, the display can make millions of different colors. When the pixels are rapidly switched on and off, a picture is created";
    //mensaje = "El amor es una daga Es un arma que se puede blandir de lejos o de cerca. Puedes reflejarte en ella Es hermosa Hasta que te hace sangrar Pero al final cuando la alcanzas no es real. <El amor es una daga> Terrible metafora";
    rsa_bloques receptor(1024);//genera claves y recibe mensaje
    //rsa_bloques receptor(10);
/*
    ZZ n= conv<ZZ>("73093641762502073341532623982040691800693569079581945091992890069244137046803882664943788842559018026916627182392155614487380489736154856064734463543964294454205424579174189094179668600005279165152042988896560459949443566616367548922813189338380225477259076396948963198899739717892423978512368378662589090479");
    ZZ e= conv<ZZ>("11282623512312022528511242020949880409990885144810652000953420938775656962364240789874691223726440108785587324787360613337327623908405728001004102222883489");//*/

    /*
    ZZ n,e;
    cin>>n>>e;//*/
/*
   rsa_bloques emisor(n,e);//recibe claves <n,e> y encripta mensaje
    cout<<"\nmensaje cifrado: "<<endl<<emisor.encrypt(mensaje)<<endl;//*/

    //cin>>mensaje;
    cout<< "\ndecifrado: \n" <<receptor.decrypt(mensaje);//*/
    return 0;
}
